-- SQL DDL generated from FlatBuffers schema
-- Source: monster_test.fbs
-- Generated by flatc --sql
--
-- This file contains CREATE TABLE statements for all tables
-- defined in the FlatBuffers schema.
--

-- Enum: FromInclude
-- Values: IncludeVal=0
CREATE TABLE my_game__other_name_space__from_include (
  id INTEGER PRIMARY KEY,
  name TEXT NOT NULL UNIQUE
);

-- Populate enum lookup table
INSERT INTO my_game__other_name_space__from_include (id, name) VALUES (0, 'IncludeVal');

-- Enum: Color
-- Values: Red=1, Green=2, Blue=8
CREATE TABLE my_game__example__color (
  id INTEGER PRIMARY KEY,
  name TEXT NOT NULL UNIQUE
);

-- Populate enum lookup table
INSERT INTO my_game__example__color (id, name) VALUES (1, 'Red');
INSERT INTO my_game__example__color (id, name) VALUES (2, 'Green');
INSERT INTO my_game__example__color (id, name) VALUES (8, 'Blue');

-- Enum: Race
-- Values: None=-1, Human=0, Dwarf=1, Elf=2
CREATE TABLE my_game__example__race (
  id INTEGER PRIMARY KEY,
  name TEXT NOT NULL UNIQUE
);

-- Populate enum lookup table
INSERT INTO my_game__example__race (id, name) VALUES (-1, 'None');
INSERT INTO my_game__example__race (id, name) VALUES (0, 'Human');
INSERT INTO my_game__example__race (id, name) VALUES (1, 'Dwarf');
INSERT INTO my_game__example__race (id, name) VALUES (2, 'Elf');

-- Enum: LongEnum
-- Values: LongOne=2, LongTwo=4, LongBig=1099511627776
CREATE TABLE my_game__example__long_enum (
  id INTEGER PRIMARY KEY,
  name TEXT NOT NULL UNIQUE
);

-- Populate enum lookup table
INSERT INTO my_game__example__long_enum (id, name) VALUES (2, 'LongOne');
INSERT INTO my_game__example__long_enum (id, name) VALUES (4, 'LongTwo');
INSERT INTO my_game__example__long_enum (id, name) VALUES (1099511627776, 'LongBig');

-- Table: TableB
CREATE TABLE my_game__other_name_space__table_b (
  id INTEGER PRIMARY KEY AUTO_INCREMENT,
  a INTEGER
);

-- Table: TableA
CREATE TABLE table_a (
  id INTEGER PRIMARY KEY AUTO_INCREMENT,
  b INTEGER
);

-- Table: InParentNamespace
CREATE TABLE my_game__in_parent_namespace (
  id INTEGER PRIMARY KEY AUTO_INCREMENT
);

-- Table: Monster
CREATE TABLE my_game__example2__monster (
  id INTEGER PRIMARY KEY AUTO_INCREMENT
);

-- Table: TestSimpleTableWithEnum
CREATE TABLE my_game__example__test_simple_table_with_enum (
  id INTEGER PRIMARY KEY AUTO_INCREMENT,
  color TINYINT UNSIGNED DEFAULT 2
);

-- Table: Stat
CREATE TABLE my_game__example__stat (
  id TEXT,
  val BIGINT,
  count SMALLINT UNSIGNED PRIMARY KEY
);

-- Table: Referrable
CREATE TABLE my_game__example__referrable (
  id BIGINT UNSIGNED PRIMARY KEY
);

-- Table: Monster -  an example documentation comment: "monster object"
CREATE TABLE my_game__example__monster (
  pos INTEGER,
  mana SMALLINT DEFAULT 150,
  hp SMALLINT DEFAULT 100,
  name TEXT PRIMARY KEY NOT NULL,
  inventory TEXT,
  color TINYINT UNSIGNED DEFAULT 8,
  test4 TEXT,
  testarrayofstring TEXT,
  enemy INTEGER,
  testnestedflatbuffer TEXT,
  testempty INTEGER,
  testbool BOOLEAN,
  testhashs32_fnv1 INTEGER,
  testhashu32_fnv1 INTEGER UNSIGNED,
  testhashs64_fnv1 BIGINT,
  testhashu64_fnv1 BIGINT UNSIGNED,
  testhashs32_fnv1a INTEGER,
  testhashu32_fnv1a INTEGER UNSIGNED,
  testhashs64_fnv1a BIGINT,
  testhashu64_fnv1a BIGINT UNSIGNED,
  testarrayofbools TEXT,
  testf REAL DEFAULT 3.14159,
  testf2 REAL DEFAULT 3.0,
  testf3 REAL DEFAULT 0.0,
  testarrayofstring2 TEXT,
  testarrayofsortedstruct TEXT,
  flex TEXT,
  test5 TEXT,
  vector_of_longs TEXT,
  vector_of_doubles TEXT,
  parent_namespace_test INTEGER,
  single_weak_reference BIGINT UNSIGNED,
  vector_of_weak_references TEXT,
  co_owning_reference BIGINT UNSIGNED,
  vector_of_co_owning_references TEXT,
  non_owning_reference BIGINT UNSIGNED,
  vector_of_non_owning_references TEXT,
  vector_of_enums TEXT,
  signed_enum SMALLINT DEFAULT -1,
  testrequirednestedflatbuffer TEXT,
  native_inline INTEGER,
  long_enum_non_enum_default BIGINT UNSIGNED,
  long_enum_normal_default BIGINT UNSIGNED DEFAULT 2,
  nan_default REAL DEFAULT nan,
  inf_default REAL DEFAULT inf,
  positive_inf_default REAL DEFAULT +inf,
  infinity_default REAL DEFAULT infinity,
  positive_infinity_default REAL DEFAULT +infinity,
  negative_inf_default REAL DEFAULT -inf,
  negative_infinity_default REAL DEFAULT -infinity,
  double_inf_default DOUBLE PRECISION DEFAULT inf
);

-- Table: TypeAliases
CREATE TABLE my_game__example__type_aliases (
  id INTEGER PRIMARY KEY AUTO_INCREMENT,
  i8 SMALLINT,
  u8 TINYINT UNSIGNED,
  i16 SMALLINT,
  u16 SMALLINT UNSIGNED,
  i32 INTEGER,
  u32 INTEGER UNSIGNED,
  i64 BIGINT,
  u64 BIGINT UNSIGNED,
  f32 REAL DEFAULT 0.0,
  f64 DOUBLE PRECISION DEFAULT 0.0,
  v8 TEXT,
  vf64 TEXT
);

-- Junction Tables (for relationships)
-- These tables link parent tables to child tables for references and vectors.
--

-- Junction: TableB.a → TableA (0..1)
CREATE TABLE my_game__other_name_space__table_b__a (
  id INTEGER PRIMARY KEY,
  parent_rowid INTEGER NOT NULL,
  child_rowid INTEGER NOT NULL,
  created_at INTEGER DEFAULT (strftime('%s', 'now')),
  UNIQUE(parent_rowid)
);

-- Junction: TableA.b → TableB (0..1)
CREATE TABLE table_a__b (
  id INTEGER PRIMARY KEY,
  parent_rowid INTEGER NOT NULL,
  child_rowid INTEGER NOT NULL,
  created_at INTEGER DEFAULT (strftime('%s', 'now')),
  UNIQUE(parent_rowid)
);

-- Junction: Monster.test → Any (union, 0..1)
CREATE TABLE my_game__example__monster__test (
  id INTEGER PRIMARY KEY,
  parent_rowid INTEGER NOT NULL,
  union_type TEXT NOT NULL,
  child_rowid INTEGER NOT NULL,
  created_at INTEGER DEFAULT (strftime('%s', 'now')),
  UNIQUE(parent_rowid)
);
-- Union types: Monster, TestSimpleTableWithEnum, MyGame_Example2_Monster

-- Junction: Monster.testarrayoftables → [Monster] (0..N)
CREATE TABLE my_game__example__monster__testarrayoftables (
  id INTEGER PRIMARY KEY,
  parent_rowid INTEGER NOT NULL,
  vec_index INTEGER NOT NULL,
  child_rowid INTEGER NOT NULL,
  created_at INTEGER DEFAULT (strftime('%s', 'now')),
  UNIQUE(parent_rowid, vec_index)
);

-- Junction: Monster.enemy → Monster (0..1)
CREATE TABLE my_game__example__monster__enemy (
  id INTEGER PRIMARY KEY,
  parent_rowid INTEGER NOT NULL,
  child_rowid INTEGER NOT NULL,
  created_at INTEGER DEFAULT (strftime('%s', 'now')),
  UNIQUE(parent_rowid)
);

-- Junction: Monster.testempty → Stat (0..1)
CREATE TABLE my_game__example__monster__testempty (
  id INTEGER PRIMARY KEY,
  parent_rowid INTEGER NOT NULL,
  child_rowid INTEGER NOT NULL,
  created_at INTEGER DEFAULT (strftime('%s', 'now')),
  UNIQUE(parent_rowid)
);

-- Junction: Monster.parent_namespace_test → InParentNamespace (0..1)
CREATE TABLE my_game__example__monster__parent_namespace_test (
  id INTEGER PRIMARY KEY,
  parent_rowid INTEGER NOT NULL,
  child_rowid INTEGER NOT NULL,
  created_at INTEGER DEFAULT (strftime('%s', 'now')),
  UNIQUE(parent_rowid)
);

-- Junction: Monster.vector_of_referrables → [Referrable] (0..N)
CREATE TABLE my_game__example__monster__vector_of_referrables (
  id INTEGER PRIMARY KEY,
  parent_rowid INTEGER NOT NULL,
  vec_index INTEGER NOT NULL,
  child_rowid INTEGER NOT NULL,
  created_at INTEGER DEFAULT (strftime('%s', 'now')),
  UNIQUE(parent_rowid, vec_index)
);

-- Junction: Monster.vector_of_strong_referrables → [Referrable] (0..N)
CREATE TABLE my_game__example__monster__vector_of_strong_referrables (
  id INTEGER PRIMARY KEY,
  parent_rowid INTEGER NOT NULL,
  vec_index INTEGER NOT NULL,
  child_rowid INTEGER NOT NULL,
  created_at INTEGER DEFAULT (strftime('%s', 'now')),
  UNIQUE(parent_rowid, vec_index)
);

-- Junction: Monster.any_unique → AnyUniqueAliases (union, 0..1)
CREATE TABLE my_game__example__monster__any_unique (
  id INTEGER PRIMARY KEY,
  parent_rowid INTEGER NOT NULL,
  union_type TEXT NOT NULL,
  child_rowid INTEGER NOT NULL,
  created_at INTEGER DEFAULT (strftime('%s', 'now')),
  UNIQUE(parent_rowid)
);
-- Union types: M, TS, M2

-- Junction: Monster.any_ambiguous → AnyAmbiguousAliases (union, 0..1)
CREATE TABLE my_game__example__monster__any_ambiguous (
  id INTEGER PRIMARY KEY,
  parent_rowid INTEGER NOT NULL,
  union_type TEXT NOT NULL,
  child_rowid INTEGER NOT NULL,
  created_at INTEGER DEFAULT (strftime('%s', 'now')),
  UNIQUE(parent_rowid)
);
-- Union types: M1, M2, M3

-- Junction: Monster.scalar_key_sorted_tables → [Stat] (0..N)
CREATE TABLE my_game__example__monster__scalar_key_sorted_tables (
  id INTEGER PRIMARY KEY,
  parent_rowid INTEGER NOT NULL,
  vec_index INTEGER NOT NULL,
  child_rowid INTEGER NOT NULL,
  created_at INTEGER DEFAULT (strftime('%s', 'now')),
  UNIQUE(parent_rowid, vec_index)
);

-- Foreign Key Constraints
-- (Uncomment to enable referential integrity)
--
-- ALTER TABLE my_game__other_name_space__table_b ADD CONSTRAINT fk_my_game__other_name_space__table_b_a FOREIGN KEY (a) REFERENCES table_a(id);
-- ALTER TABLE table_a ADD CONSTRAINT fk_table_a_b FOREIGN KEY (b) REFERENCES my_game__other_name_space__table_b(id);
-- ALTER TABLE my_game__example__test_simple_table_with_enum ADD CONSTRAINT fk_my_game__example__test_simple_table_with_enum_color FOREIGN KEY (color) REFERENCES my_game__example__color(id);
-- ALTER TABLE my_game__example__monster ADD CONSTRAINT fk_my_game__example__monster_pos FOREIGN KEY (pos) REFERENCES my_game__example__vec3(id);
-- ALTER TABLE my_game__example__monster ADD CONSTRAINT fk_my_game__example__monster_color FOREIGN KEY (color) REFERENCES my_game__example__color(id);
-- ALTER TABLE my_game__example__monster ADD CONSTRAINT fk_my_game__example__monster_enemy FOREIGN KEY (enemy) REFERENCES my_game__example__monster(id);
-- ALTER TABLE my_game__example__monster ADD CONSTRAINT fk_my_game__example__monster_testempty FOREIGN KEY (testempty) REFERENCES my_game__example__stat(id);
-- ALTER TABLE my_game__example__monster ADD CONSTRAINT fk_my_game__example__monster_parent_namespace_test FOREIGN KEY (parent_namespace_test) REFERENCES my_game__in_parent_namespace(id);
-- ALTER TABLE my_game__example__monster ADD CONSTRAINT fk_my_game__example__monster_vector_of_enums FOREIGN KEY (vector_of_enums) REFERENCES my_game__example__color(id);
-- ALTER TABLE my_game__example__monster ADD CONSTRAINT fk_my_game__example__monster_signed_enum FOREIGN KEY (signed_enum) REFERENCES my_game__example__race(id);
-- ALTER TABLE my_game__example__monster ADD CONSTRAINT fk_my_game__example__monster_native_inline FOREIGN KEY (native_inline) REFERENCES my_game__example__test(id);
-- ALTER TABLE my_game__example__monster ADD CONSTRAINT fk_my_game__example__monster_long_enum_non_enum_default FOREIGN KEY (long_enum_non_enum_default) REFERENCES my_game__example__long_enum(id);
-- ALTER TABLE my_game__example__monster ADD CONSTRAINT fk_my_game__example__monster_long_enum_normal_default FOREIGN KEY (long_enum_normal_default) REFERENCES my_game__example__long_enum(id);

-- Indexes
CREATE INDEX idx_my_game__other_name_space__table_b_a ON my_game__other_name_space__table_b (a);
CREATE INDEX idx_my_game__other_name_space__table_b__a_parent ON my_game__other_name_space__table_b__a (parent_rowid);
CREATE INDEX idx_my_game__other_name_space__table_b__a_child ON my_game__other_name_space__table_b__a (child_rowid);
CREATE INDEX idx_table_a_b ON table_a (b);
CREATE INDEX idx_table_a__b_parent ON table_a__b (parent_rowid);
CREATE INDEX idx_table_a__b_child ON table_a__b (child_rowid);
CREATE INDEX idx_my_game__example__monster_pos ON my_game__example__monster (pos);
CREATE INDEX idx_my_game__example__monster__test_parent ON my_game__example__monster__test (parent_rowid);
CREATE INDEX idx_my_game__example__monster__test_child ON my_game__example__monster__test (child_rowid);
CREATE INDEX idx_my_game__example__monster__testarrayoftables_parent ON my_game__example__monster__testarrayoftables (parent_rowid);
CREATE INDEX idx_my_game__example__monster__testarrayoftables_child ON my_game__example__monster__testarrayoftables (child_rowid);
CREATE INDEX idx_my_game__example__monster_enemy ON my_game__example__monster (enemy);
CREATE INDEX idx_my_game__example__monster__enemy_parent ON my_game__example__monster__enemy (parent_rowid);
CREATE INDEX idx_my_game__example__monster__enemy_child ON my_game__example__monster__enemy (child_rowid);
CREATE INDEX idx_my_game__example__monster_testempty ON my_game__example__monster (testempty);
CREATE INDEX idx_my_game__example__monster__testempty_parent ON my_game__example__monster__testempty (parent_rowid);
CREATE INDEX idx_my_game__example__monster__testempty_child ON my_game__example__monster__testempty (child_rowid);
CREATE INDEX idx_my_game__example__monster_parent_namespace_test ON my_game__example__monster (parent_namespace_test);
CREATE INDEX idx_my_game__example__monster__parent_namespace_test_parent ON my_game__example__monster__parent_namespace_test (parent_rowid);
CREATE INDEX idx_my_game__example__monster__parent_namespace_test_child ON my_game__example__monster__parent_namespace_test (child_rowid);
CREATE INDEX idx_my_game__example__monster__vector_of_referrables_parent ON my_game__example__monster__vector_of_referrables (parent_rowid);
CREATE INDEX idx_my_game__example__monster__vector_of_referrables_child ON my_game__example__monster__vector_of_referrables (child_rowid);
CREATE INDEX idx_my_game__example__monster__vector_of_strong_referrables_parent ON my_game__example__monster__vector_of_strong_referrables (parent_rowid);
CREATE INDEX idx_my_game__example__monster__vector_of_strong_referrables_child ON my_game__example__monster__vector_of_strong_referrables (child_rowid);
CREATE INDEX idx_my_game__example__monster__any_unique_parent ON my_game__example__monster__any_unique (parent_rowid);
CREATE INDEX idx_my_game__example__monster__any_unique_child ON my_game__example__monster__any_unique (child_rowid);
CREATE INDEX idx_my_game__example__monster__any_ambiguous_parent ON my_game__example__monster__any_ambiguous (parent_rowid);
CREATE INDEX idx_my_game__example__monster__any_ambiguous_child ON my_game__example__monster__any_ambiguous (child_rowid);
CREATE INDEX idx_my_game__example__monster__scalar_key_sorted_tables_parent ON my_game__example__monster__scalar_key_sorted_tables (parent_rowid);
CREATE INDEX idx_my_game__example__monster__scalar_key_sorted_tables_child ON my_game__example__monster__scalar_key_sorted_tables (child_rowid);
CREATE INDEX idx_my_game__example__monster_native_inline ON my_game__example__monster (native_inline);

